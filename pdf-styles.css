/* This stylesheet is used when generating a PDF with PrinceXML or any other tool that understands the CSS used. */

@font-face {
  font-family: BookFont;
  src: prince-lookup("Inria Serif"),
       local("../fonts/InriaSerif-Light.ttf") format("truetype");
}

html,
body {
  margin: 0;
  padding: 0;
}

/* Reset chapter and figure counters on the body */
body {
  counter-reset: chapternum figurenum footnote;
  font-family: BookFont, prince-no-fallback;
  font-weight: 400;
  font-size: 11pt;
  line-height: 1.5;
}

@page {
  /* A5 = 14.8cm x 21cm */
  size: A5;
  margin-top: 2cm;
  margin-bottom: 2cm;
  margin-inside: 2.5cm;
  margin-outside: 1.8cm;
  font-family: BookFont, prince-no-fallback;

  @bottom-center {
    margin: 0.36cm 0 1cm 0;
    content: counter(page);
    font-family: BookFont, prince-no-fallback;
    font-weight: 700;
    font-size: 7pt;
    color: #555;
  }
}

/* styles for pages on the right */
@page:right {
  @top-right {
    content: string(doctitle);
    margin: 1cm 0 0.36cm 0;
    font-family: BookFont, prince-no-fallback;
    font-style: italic;
    font-weight: 300;
    font-size: 9pt;
    color: #555;
  }
}

/* styles for pages on the left */
@page:left {
  @top-left {
    content: "Amor ao Bem";
    margin: 1cm 0 0.36cm 0;
    font-family: BookFont, prince-no-fallback;
    font-style: italic;
    font-weight: 300;
    font-size: 9pt;
    color: #555;
  }
}

/* Front cover */
div.frontcover {
  page: frontcover;
  -prince-page-group: start;
}

@page frontcover {
  background-image: url("images/cover.svg");
  background-position: center;
  background-size: cover;
  background-repeat: no-repeat;

  @bottom-center {
    content: normal;
  }
  @top-left {
    content: normal;
  }
  @top-right {
    content: normal;
  }
}

/* Blank page */
div.blank {
  page: blank;
  -prince-page-group: start;
}

@page blank {
  content: "";

  @bottom-center {
    content: normal;
  }
  @top-left {
    content: normal;
  }
  @top-right {
    content: normal;
  }
}

/* Intro pages - remove information in the borders */
div.intro-page {
  page: intro-page;
  -prince-page-group: start;
}

@page intro-page {
  @bottom-center {
    content: normal;
  }
  @top-left {
    content: normal;
  }
  @top-right {
    content: normal;
  }
}

@page:blank {
  @bottom-center {
    content: normal;
  }
  @top-left {
    content: normal;
  }
  @top-right {
    content: normal;
  }
}

img {
  max-width: 100%;
}

/* get the title of the current chapter - this will be the content of the h1 
reset figure counter as figures start from 1 in each chapter */
h1 {
  string-set: doctitle content();
  break-before: recto;
  counter-reset: figurenum;
  /* counter-reset: footnote; */
  line-height: 1.3;
}

/* increment chapter counter */
/* h1.chapter:before {
  counter-increment: chapternum;
  content: counter(chapternum) ". ";
} */

/* increment chapter counter for h2 (As Palavras de Buda) */
h2.chapter:before {
  counter-increment: chapternum;
  content: counter(chapternum) ". ";
}

/* increment and display figure counter */
figcaption:before {
  counter-increment: figurenum;
  content: counter(chapternum) "-" counter(figurenum) ". ";
}

/* footnotes */
.fn {
  float: footnote;
}

.fn {
  counter-increment: footnote;
  font-weight: 300;
  font-size: 9pt;
  color: #555;
}

.fn::footnote-call {
  content: counter(footnote);
  vertical-align: super;
  font-weight: 700;
  font-size: 6pt;
  line-height: none;
  color: black;
}

.fn::footnote-marker {
  vertical-align: super;
  font-weight: 400;
  font-size: 8pt;
  color: black;
}

@page {
  @footnotes {
    border-top: 0.01cm solid #888;
    padding-top: 0.36cm;
    font-family: BookFont, prince-no-fallback;
  }
}

h1,
h2,
h3,
h4,
h5 {
  font-family: BookFont, prince-no-fallback;
  font-weight: 700;
  page-break-after: avoid;
  page-break-inside: avoid;
}

h1 + p,
h2 + p,
h3 + p {
  page-break-before: avoid;
}

table,
figure {
  page-break-inside: avoid;
}

ul.toc {
  list-style: none;
  margin: 0;
  padding: 0;
}

/* Emphasis text on 'Serif' font to fix missing special characters */
em {
  font-family: Serif, prince-no-fallback;
  font-size: 110%;
}

/* create page numbers using target-counter in the TOC */
ul.toc a::after {
  content: leader(".") target-counter(attr(href), page);
}

ul.toc li {
  line-height: 2;
}

ul.toc li a {
  text-decoration: none;
}

a {
  color: #000;
}

/* add page number to cross references */
a.xref:after {
  content: " (page " target-counter(attr(href, url), page) ")";
}

/* Utility classes */

.text-right {
  text-align: right;
}

.verse-p1 {
/* Verse by the '1st person' in the poem dialog */
  font-style: italic;
}

.verse-p2 {
/* Verse by the '2nd person' in the poem dialog */
  font-style: italic;
  text-align: right;
}